<!doctype html>
<html lang="it">
  <head>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="js/injector.js"></script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>Login</title>
  </head>
  <body>
    <div data-include="header.html"></div>
        
    <div class="container mt-3">
      <h1>Crea account</h1>
        <form id="signup">
            <div class="row mb-3">
              <label for="inputNome" class="col-sm-2 col-form-label">Il tuo nome</label>
              <div class="col-sm-3">
                <input type="text" class="form-control" id="inputNome" name="nome">
              </div>
            </div>
            <div class="row mb-3">
              <label for="inputEmail" class="col-sm-2 col-form-label">Email</label>
              <div class="col-sm-3">
                <input type="email" class="form-control" id="inputEmail" name="email">
              </div>
            </div>
            <div class="row mb-3">
              <label for="inputPassword" class="col-sm-2 col-form-label">Password</label>
              <div class="col-sm-3">
                <input type="password" class="form-control" id="inputPassword" name="password">
              </div>
            </div>
            <div class="row mb-3">
              <label for="inputPassword2" class="col-sm-2 col-form-label">Ripeti password</label>
              <div class="col-sm-3">
                <input type="password" class="form-control" id="inputPassword2">
              </div>
            </div>
            <div class="row mb-3">
              <hr>
            </div>
            
            <div class="row mb-3">
              <label class="col-sm-6 col-form-label"><b>Informazioni di spedizione</b></label>
            </div>
            <div class="row mb-3">
              <label for="inputIndSpedizione" class="col-sm-2 col-form-label">Indirizzo</label>
              <div class="col-sm-3">
                <input type="text" class="form-control" id="inputIndSpedizione" name="indSpedizione">
              </div>
            </div>
            <div class="row mb-3">
              <label for="inputCitta" class="col-sm-2 col-form-label">Citt&agrave;</label>
              <div class="col-sm-3">
                <input type="text" class="form-control" id="inputCitta" name="citta">
              </div>
            </div>
            <div class="row mb-3">
              <label for="inputCAP" class="col-sm-2 col-form-label">CAP</label>
              <div class="col-sm-3">
                <input type="text" class="form-control" id="inputCAP" name="CAP" maxlength="5" minlength="5">
              </div>
            </div>

            <div class="row mb-3">
              <label class="col-sm-2 col-form-label">Hai gi√† un account? <a href="login.html">Accedi</a></label>
            </div>
            <button type="submit" class="btn btn-primary" id="submit">Crea il tuo account</button>
            <div class="row mb-3">
              <div class="alert alert-danger mt-3 invisible" role="alert" id="pswAlert">
                Le due password non corrispondono: ricontrollare
              </div>
            </div>
        </form>
    </div>

    <script>
      $("form#signup").submit(function(event) {
        //Check per password e ripetizione
        const psw = $('form#signup').find('input[id="inputPassword"]').val();
        const psw2 = $('form#signup').find('input[id="inputPassword2"]').val();
        
        if(psw!==psw2){
          $("#pswAlert").removeClass("invisible");
        }else{
          //Mando richiesta
          alert($('form#signup').serialize())
          $.post('url', $('form#signup'.serialize(), function(data) {}, 'json'))
        }

        event.preventDefault();
      });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
  </body>
</html>
